// Шаг 1: manifest.json
// Это файл, описывающий ваше расширение и предоставляющий информацию браузеру.

{
  "manifest_version": 3, // Версия манифеста. Номер "3" означает, что используется третья версия манифеста, которая поддерживает более современные функции и ограничения безопасности.
  
  "name": "CleanBrain", // Название вашего расширения.
  
  "version": "1.0", // Версия вашего расширения. Помогает отслеживать изменения и обновления.

  "permissions": ["contextMenus", "storage", "activeTab"], // Запрашиваемые разрешения:
  // - "contextMenus": позволяет добавлять элементы в контекстное меню (например, при щелчке правой кнопкой мыши).
  // - "storage": доступ к локальному хранилищу браузера для сохранения данных.
  // - "activeTab": доступ к информации о текущей активной вкладке, чтобы взаимодействовать с ней.
  
  "background": {
      "service_worker": "background.js" // Фоновый скрипт, который выполняет задачи в фоновом режиме.
      // В данном случае используется "background.js", который выполняет код независимо от текущего контекста вкладки.
  },
  
  "content_scripts": [
    {
      "matches": ["<all_urls>"], // Скрипт применяется ко всем URL-адресам (всем страницам).
      "js": ["content_script.js"], // Название JavaScript-файла, который будет внедрён на страницы.
      "run_at": "document_idle" // Указывает время выполнения скрипта, "document_idle" означает, что скрипт будет выполнен после полной загрузки страницы.
    }
  ],
  
  "action": {
      "default_popup": "popup.html", // Указывает HTML-файл, который будет отображаться при нажатии на значок расширения в панели браузера.
      "default_icon": "obrez.png" // Иконка по умолчанию для расширения.
  },
  
  "icons": {
      "16": "mozg16.png", // Иконка размером 16x16 пикселей, которая может отображаться в разных местах браузера.
      "32": "mozg32.png", // Иконка размером 32x32 пикселей.
      "48": "mozg48.png", // Иконка размером 48x48 пикселей.
      "128": "mozg128.png" // Иконка размером 128x128 пикселей.
  }
}
